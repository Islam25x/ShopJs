const data =
[
    {
        "id": 1,
        "title": "Basic Sandals",
        "price": "109.95$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "shoes",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/shoes.jpg",
        "add": "Add to cart"
    },
    {
        "id": 2,
        "title": "Lily Shirt",
        "price": "20.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "Shirts",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/bag2-1-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 3,
        "title": "Light Shoes",
        "price": "18.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "shoes",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/shoes2-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 4,
        "title": "Jeans Shorts",
        "price": "Â£20.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "pants",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/shorts2-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 5,
        "title": "Basic Sandals",
        "price": "35.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "shoes",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/shoes3-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 6,
        "title": "Fancy Shoes",
        "price": "35.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "shoes",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/bag-1-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 7,
        "title": "Cool Hat",
        "sale": "SALE!",
        "pre-sale" : "15.00$",
        "price": "12.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "hats",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/hat1-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 8,
        "title": "Cool Glasses",
        "sale": "SALE!",
        "pre-sale" : "20.00$",
        "price": "18.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "glasses",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/glasses-2-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 9,
        "title": "Brown Shoes",
        "price": "15.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "shoes",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/shoes-man-1-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 10,
        "title": "Brown Backpack",
        "price": "15.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "backpack",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/bag3-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 11,
        "title": "Beige Shorts",
        "price": "35.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "pants",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/shorts1-600x600.jpg",
        "add": "Add to cart"
    },
    {
        "id": 12,
        "title": "Color Bag",
        "price": "35.00$",
        "description": "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",
        "category": "backpack",
        "image": "https://www.engage.veented.com/shop-dark/wp-content/uploads/sites/42/2013/06/bag4-600x600.jpg",
        "add": "Add to cart"
    }
] 

const container = document.getElementById('con');
const searchInput = document.getElementById('search-input');
const searchType = document.getElementById('s-type');
const login = document.getElementById('login');
const Register = document.getElementById('Register');

login.addEventListener('click',()=>{
    window.location.href = 'login.html'
})
Register.addEventListener('click',()=>{
    window.location.href = 'signUp.html'
})

function renderProducts(products) {
    container.innerHTML = ''; // Clear current products
    products.forEach(item => {
        let card = document.createElement('div');
        let photo = document.createElement('img');
        let card_des = document.createElement('div');
        let product = document.createElement('h6');
        let product_name = document.createElement('span');
        let price = document.createElement('h6');
        let price_con = document.createElement('span');
        let cat = document.createElement('h6');
        let cat_con = document.createElement('span');
        let card_bottom = document.createElement('div');
        let btn = document.createElement('button');
        let fav = document.createElement('img');

        // Classes
        card.classList.add('card');
        card_des.classList.add('card_des');
        card_bottom.classList.add('card_bottom', 'd-flex', 'justify-content-between');
        fav.classList.add('gray');

        // Content
        photo.src = item.image;
        product.textContent = 'product name: ';
        product_name.textContent = item.title;
        price.textContent = 'price: ';
        price_con.textContent = item.price;
        cat.textContent = 'category: ';
        cat_con.textContent = item.category;
        btn.textContent = 'Add to cart';
        fav.src = 'imgs/heart-solid-gray.svg';

        // Append
        container.appendChild(card);
        card.appendChild(photo);
        card.appendChild(card_des);
        card_des.appendChild(product);
        product.appendChild(product_name);
        card_des.appendChild(price);
        price.appendChild(price_con);
        card_des.appendChild(cat);
        cat.appendChild(cat_con);
        card.appendChild(card_bottom);
        card_bottom.appendChild(btn);
        card_bottom.appendChild(fav);

        // Event listeners for the button and favorite icon
        btn.addEventListener('click', () => {
            window.location.href = 'login.html'
            // if (btn.style.background == 'red') {
            //     btn.textContent = 'Add to cart';
            //     btn.style.background = 'black';
            // } else {
            //     btn.style.background = 'red';
            //     btn.textContent = 'Remove from cart';
            // }
        });
        fav.addEventListener('click', () => {
            window.location.href = 'login.html'
            // if (fav.classList.contains('gray')) {
            //     fav.src = "imgs/heart-solid-red.svg";
            //     fav.classList.remove('gray');
            // } else {
            //     fav.src = "imgs/heart-solid-gray.svg";
            //     fav.classList.add('gray');
            // }
        });
    });
}


renderProducts(data);

// Filter products when typing in the search input
searchInput.addEventListener('input', () => {
    const query = searchInput.value.toLowerCase();
    const filterBy = searchType.value;

    const filteredProducts = data.filter(item => {
        if (filterBy === 'name') {
            return item.title.toLowerCase().includes(query);
        } else if (filterBy === 'Category') {
            return item.category.toLowerCase().includes(query);
        }
        return false;
    });

    renderProducts(filteredProducts);
});

